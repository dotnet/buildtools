{
  "settings": {
    "OSGroup": {
      "description": "Target OS for result binaries.",
      "valueType": "property",
      "values": ["Windows_NT", "Linux", "OSX", "FreeBSD", "NetBSD"],
      "defaultValue": "Windows_NT"
     },
    "RestoreDuringBuild": {
      "description": "Enables/Disables the restoration of packages.",
      "valueType": "property",
      "values": ["True", "False"],
      "defaultValue": true
    },
    "BuildTests": {
      "description": "Enables/Disables building tests against the product binaries.",
      "valueType": "property",
      "values": ["True", "False"],
      "defaultValue": true
    },
    "BuildPackages": {
      "description": "Enables/Disables building packages.", 
      "valueType": "property",
      "values": ["True", "False"],
      "defaultValue": true
    },
    "BuildTestsAgainstPackages": {
      "description": "Allows to build tests against product packages.",
      "valueType": "property",
      "values": ["True", "False"],
      "defaultValue": false
    },
    "BatchRestorePackages": {
      "description": "MsBuild target that restores the packages.",
      "valueType": "target",
      "values": [],
      "defaultValue": ""
    },
    "BatchGenerateTestProjectJsons": {
      "description": "MsBuild target that generates the project Jsons files to build tests against packages.",
      "valueType": "target",
      "values": [],
      "defaultValue": ""
    },
    "ExtraArguments": {
      "description": "Doesn't format the setting to a specific tool.",
      "valueType": "passThrough",
      "values": [],
      "defaultValue": ""
    }
  },
  "commands": {
    "default": {
      "description": "Only builds managed product binaries. It doesn't restore packages.",
      "toolName": "msbuild",
      "lockedSettings": {
        "RestoreDuringBuild": false,
        "BuildTests": false,
        "BuildPackages": false
      },
      "settings": {
        "OSGroup": ""
      }
    },
    "testAgainstPackages": {
      "description": "Generates project.jsons for test projects, restores packages, builds product and then builds tests against the generated project.json files.",
      "toolName": "msbuild",
      "lockedSettings": {
        "RestoreDuringBuild":  true,
        "BuildTestsAgainstPackages": true,
        "BatchRestorePackages": "default",
        "BatchGenerateTestProjectJsons":  "default"
      },
      "settings": {
        "OSGroup": "default"
      }
    },
    "native": {
      "description": "Builds native libraries.",
      "toolName": "cmake",
      "lockedSettings": {},
      "settings": {}
    },
    "managed": {
      "description": "Restores packages, builds product and test binaries, runs the tests and builds product packages",
      "toolName": "msbuild",
      "lockedSettings": {
        "RestoreDuringBuild": "default",
        "BuildTests": "default",
        "BuildPackages": "default"
      },
      "settings": {
        "OSGroup": ""
      }
    },
    "all": {
      "description": "Restores packages, builds product and test binaries, runs the tests and builds product packages.",
      "toolName": "msbuild",
      "lockedSettings": {},
      "settings": {}
    }
  },
  "processes": {
    "msbuild": {
      "run": {
        "windows": "msbuild.exe",
        "non-windows": "..\\corerun.exe ..\\msbuild.exe"
      },
      "valueTypes": {
        "property": "/p:{name}={value}",
        "target": "/t:{name}",
        "internal": "/{name}"
      }
    },
    "cmake": {
      "run": {
        "windows": "cmake.exe",
        "non-windows": "cmake.exe"
      },
      "valueTypes": {
        "property": "",
        "internal": ""
      }
    }
  }
}
